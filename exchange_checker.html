<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="google-adsense-account" content="ca-pub-2384775227983330">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>イベント交換所チェッカー - おサボりツール</title>
    
    <!-- ファビコン -->
    <link rel="icon" type="image/png" sizes="32x32" href="images/others/favicon32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/others/favicon16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="images/others/favicon180.png">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/exchange_checker.css">
</head>
<body>
    <!-- 背景 -->
    <div id="backgroundLayer" class="background-layer"></div>

    <!-- ハンバーガーメニュー -->
    <div class="hamburger-menu" id="hamburgerMenu">
        <div class="hamburger-line"></div>
        <div class="hamburger-line"></div>
        <div class="hamburger-line"></div>
    </div>

    <!-- サイドメニュー -->
    <nav class="side-menu" id="sideMenu">
        <div class="side-menu-header">メニュー</div>
        <ul class="side-menu-list">
            <li><a href="index.html">TOP</a></li>
            <li><a href="simu_potential.html">素質シミュレーター</a></li>
            <li><a href="exchange_checker.html">イベント交換所チェッカー(今ここ)</a></li>
            <li><span class="menu-item-disabled">（予定）上級依頼シミュレーター</span></li>
            <li><span class="menu-item-disabled">（予定）昇格に必要な素材数計算機</span></li>
            <li><span class="menu-item-disabled">（予定）素材逆引き</span></li>
            <li><span class="menu-item-disabled">（予定）星ノ塔クイズのカンペ</span></li>
            <li><span class="menu-item-disabled">（予定）無限リングのバフ早見表</span></li>
            <li><span class="menu-item-disabled">（予定）未実装キャラメモ</span></li>
            <li><span class="menu-item-disabled">（予定）ココチャまとめ</span></li>
        </ul>
    </nav>

    <!-- メニューオーバーレイ -->
    <div class="menu-overlay" id="menuOverlay"></div>

    <div class="container">
        <header>
            <h1>イベント交換所チェッカー</h1>
            <div class="controls">
                <button id="resetProgress" class="btn">進捗リセット</button>
                <button id="resetAll" class="btn btn-danger">初期化</button>
                <button id="showUsage" class="btn btn-info">使い方</button>
            </div>
        </header>

        <div class="main-content">
            <!-- イベント選択エリア -->
            <div class="event-selector">
                <label for="eventSelect">イベント：</label>
                <select id="eventSelect" class="event-select">
                    <option value="">-</option>
                </select>
            </div>

            <!-- イベント情報表示エリア -->
            <div id="eventInfo" class="event-info hidden">
                <!-- 3カラムレイアウト -->
                <div class="three-column-layout">
                    <!-- 左カラム：計算結果サマリー -->
                    <div class="column column-left">
                        <h2>計算結果</h2>
                        
                        <!-- 現在のポイント入力 -->
                        <div class="current-points-section">
                            <label for="currentPoints">所持ポイント数</label>
                            <input type="number" id="currentPoints" min="0" max="999999" value="0" class="points-input">
                            <div class="points-buttons">
                                <button id="pointsDecrease" class="points-btn points-btn-minus">-<span id="pointsDecreaseAmount">400</span></button>
                                <img id="pointIcon" src="" alt="" class="point-icon">
                                <button id="pointsIncrease" class="points-btn points-btn-plus">+<span id="pointsIncreaseAmount">400</span></button>
                            </div>
                        </div>

                        <div class="summary-section">
                            <div class="summary-card">
                                <div class="summary-label">残り日数</div>
                                <div class="summary-value" id="remainingDays">-</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-label">残り周回ポイント</div>
                                <div class="summary-value highlight" id="remainingNeeded">0</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-label">1日あたりのノルマ</div>
                                <div class="summary-value highlight" id="dailyQuota">0周</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-label">1日あたりのやる気</div>
                                <div class="summary-value highlight" id="dailyStamina">0</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-label">あと何周？</div>
                                <div class="summary-value highlight" id="runsNeeded">0</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-label">欲しいもの全交換ノルマ</div>
                                <div class="summary-value" id="totalNeeded">0</div>
                            </div>
                        </div>
                    </div>

                    <!-- 中央カラム：交換所報酬 -->
                    <div class="column column-center">
                        <h2>ラインナップ</h2>
                        <div id="rewardsGrid" class="rewards-grid">
                            <!-- 報酬アイテムはJavaScriptで動的に生成 -->
                        </div>
                    </div>

                    <!-- 右カラム:ミッション報酬 -->
                    <div class="column column-right">
                        <div class="mission-header">
                            <h2>クリア報酬</h2>
                            <label class="mission-filter">
                                <input type="checkbox" id="hideCompletedMissions">
                                <span>クリア済を非表示</span>
                            </label>
                        </div>
                        <div class="mission-summary">
                            <div class="mission-total">
                                <span>全達成の合計：</span>
                                <span id="totalMissionPoints">0</span>
                            </div>
                            <div class="mission-remaining">
                                <span>残り獲得可能：</span>
                                <span id="remainingMissionPoints">0</span>
                            </div>
                            <div class="mission-earned">
                                <span>獲得済み：</span>
                                <span id="earnedMissionPoints">0</span>
                            </div>
                        </div>
                        <div id="missionsGrid" class="missions-grid">
                            <!-- ミッション報酬はJavaScriptで動的に生成 -->
                        </div>
                        <div id="compMissionsGrid" class="missions-grid" style="margin-top: 15px;">
                            <!-- コンプリートミッション報酬はJavaScriptで動的に生成 -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 使い方モーダル -->
    <div id="usageModal" class="modal hidden">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <button class="modal-close">&times;</button>
                <h2>使い方</h2>
            </div>
            <div class="modal-body">
                <p><strong>1. 欲しいアイテムを決める</strong><br>
                各カードをクリックすると取る・取らないを切り替えられるよ！<br>
                交換しないアイテムの分はノルマから差し引かれるよ</p>
                
                <p><strong>2. 右側のクリア済任務を選択</strong><br>
                ゲーム内の状況と同じにしよう！<br>
                左のポイントを合わせただけだと、あと何周すればいいかが正しく出ないから注意してね<br>
                ※[全交換ノルマ]－[獲得済みクリア報酬]－[交換済みポイント]＝[周回ノルマ]</p>
                
                <p><strong>3. 所持ポイント数を入力</strong><br>
                ここもゲーム内の状況と一致させてね（直接入力可）<br>
                任務の分は自動で入るから周回した分とかを微調整</p>
                
                <p><strong>4. アイテムの交換状況を更新</strong><br>
                交換所で交換したら「-1」ボタン（緑）をクリックして在庫を減らしていこう！<br>
                間違えた時は「+1」ボタン（赤）で戻せるよ</p>
                
                <p><strong>5. 計算結果を見る</strong><br>
                左の数字が計算結果！<br>
                イベント終了までどれくらいのペースで周回すれば間に合うのかがわかるよ</p>
            </div>
        </div>
    </div>

    <footer style="margin-top: 60px; padding-top: 20px; border-top: 2px solid #ffffff; text-align: center; color: #666;">
        <p style="color: white; margin-bottom: 10px;">
            <a href="https://x.com/denko_gaminggal" target="_blank" rel="noopener noreferrer" style="color: #0000ee; text-decoration: none; margin: 0 10px;">@denko_gaminggal</a> |
            <a href="https://marshmallow-qa.com/2vagoau6ezqonbq?t=zH1owd&utm_medium=url_text&utm_source=promotion" target="_blank" rel="noopener noreferrer" style="color: #0000ee; text-decoration: none; margin: 0 10px;">マシュマロ（感想・要望など）</a> |
            <a href="privacy.html" target="_blank" rel="noopener noreferrer" style="color: #0000ee; text-decoration: none; margin: 0 10px;">プライバシーポリシー</a>
        </p>
        <p style="color: white">©Yostar<br>
        ※本サイトはステラソラの非公式ファンサイトです！</p>
    </footer>

    <script src="js/exchange_checker.js"></script>
    <script>
        // ハンバーガーメニューの動作
        const hamburger = document.getElementById('hamburgerMenu');
        const sideMenu = document.getElementById('sideMenu');
        const overlay = document.getElementById('menuOverlay');
        
        hamburger.addEventListener('click', () => {
            sideMenu.classList.toggle('open');
            overlay.classList.toggle('active');
        });
        
        overlay.addEventListener('click', () => {
            sideMenu.classList.remove('open');
            overlay.classList.remove('active');
        });
    </script>
</body>
</html>
