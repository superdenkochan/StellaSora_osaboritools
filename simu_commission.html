<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="google-adsense-account" content="ca-pub-2384775227983330">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title data-i18n="page.htmlTitle" data-i18n-source="commission">依頼シミュレーター - おサボりツール</title>
    
    <!-- ファビコン -->
    <link rel="icon" type="image/png" sizes="32x32" href="images/others/favicon32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/others/favicon16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="images/others/favicon180.png">
    <!-- CSS -->
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/tabs.css">
    <link rel="stylesheet" href="css/simu_commission.css">
</head>
<body>
    <!-- グローバルヘッダー -->
    <header class="global-header" id="globalHeader">
        <!-- 上段：ハンバーガー + アイコン + サイト名 + タブ + 言語 -->
        <div class="header-main">
            <button class="header-hamburger" id="headerHamburger" aria-label="メニューを開く">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
            <div class="header-icon" id="headerIcon">
                <!-- 将来アイコンを入れる場所 -->
            </div>
            <span class="header-title">
                <span class="text-ja">おサボりツール</span>
                <span class="text-en">Laru's Lazy Tools</span>
            </span>
            <ul class="header-tabs" id="headerTabs">
                <li><a href="index.html" class="header-tab-link">
                    <span class="text-ja">TOP</span>
                    <span class="text-en">TOP</span>
                </a></li>
                <li><a href="simu_potential.html" class="header-tab-link">
                    <span class="text-ja">素質シミュ</span>
                    <span class="text-en">Potential Sim</span>
                </a></li>
                <li><a href="exchange_checker.html" class="header-tab-link">
                    <span class="text-ja">交換所</span>
                    <span class="text-en">Exchange</span>
                </a></li>
                <li><a href="simu_commission.html" class="header-tab-link active">
                    <span class="text-ja">依頼シミュ</span>
                    <span class="text-en">Commission Sim</span>
                </a></li>
            </ul>
            <div class="header-extra-btns" id="headerExtraBtns">
                <div id="kofi-widget-container" style="display: inline-block; margin-right: 8px;"></div>
                <button id="showChangelog" class="btn btn-info header-extra-btn">
                    <span class="text-ja">更新履歴</span>
                    <span class="text-en">Changelog</span>
                </button>
            </div>
            <div class="header-lang">
                <button class="header-lang-btn" id="headerLangBtn">English</button>
            </div>
        </div>
        <!-- 下段：ページ固有コントロール（JSで移植される） -->
        <div class="header-controls" id="headerControls">
        </div>
    </header>
    
    <!-- サイドメニュー -->
    <nav class="side-menu" id="sideMenu">
        <div class="side-menu-header" data-i18n="menu.header">メニュー</div>
        <ul class="side-menu-list">
            <li><a href="index.html" data-i18n="menu.top">TOP</a></li>
            <li><a href="simu_potential.html" data-i18n="menu.potential">素質シミュ</a></li>
            <li><a href="exchange_checker.html" data-i18n="menu.exchange">交換所</a></li>
            <li><a href="simu_commission.html" class="menu-item-current" data-i18n="menu.commission">依頼シミュ</a></li>
            <li><span class="menu-item-disabled" data-i18n="menu.planned.materials">（予定）昇格に必要な素材数計算機</span></li>
            <li><span class="menu-item-disabled" data-i18n="menu.planned.reverse">（予定）素材逆引き</span></li>
            <li><span class="menu-item-disabled" data-i18n="menu.planned.quiz">（予定）星ノ塔クイズのカンペ</span></li>
            <li><span class="menu-item-disabled" data-i18n="menu.planned.ring">（予定）無限リングのバフ早見表</span></li>
            <li><span class="menu-item-disabled" data-i18n="menu.planned.unreleased">（予定）未実装キャラメモ</span></li>
            <li><span class="menu-item-disabled" data-i18n="menu.planned.cocotya">（予定）ココチャまとめ</span></li>
        </ul>
    </nav>
    
    <!-- メニューオーバーレイ -->
    <div class="menu-overlay" id="menuOverlay"></div>

    <!-- ページ固有コントロール（ヘッダー下段に移植される） -->
    <div id="pageControls">
        <button id="manageOwned" class="btn btn-primary">
            <span class="text-ja">所持巡遊者の設定</span>
            <span class="text-en">Select Trekker</span>
        </button>
        <button id="autoAssign" class="btn btn-success" disabled>
            <span class="text-ja">おまかせ</span>
            <span class="text-en">Quick Select</span>
        </button>
        <button id="resetAll" class="btn btn-danger">
            <span class="text-ja">初期化</span>
            <span class="text-en">Reset</span>
        </button>
        <button id="showUsage" class="btn btn-info">
            <span class="text-ja">使い方</span>
            <span class="text-en">How to Use</span>
        </button>
    </div>

    <!-- メインコンテンツ -->
    <main class="main-content">
            <!-- 依頼エリア -->
            <div class="commissions-area">
                <!-- 依頼スロット1～4 -->
                <div class="commission-slot" data-slot="1">
                    <div class="commission-header">
                        <button class="commission-select-btn" data-slot="1">
                            <span class="commission-select-text" data-i18n="buttons.selectCommission" data-i18n-source="commission">依頼を選択</span>
                        </button>
                    </div>
                    <div class="commission-requirements">
                        <div class="requirement-section">
                            <h4 class="requirement-title" data-i18n="labels.requirementTitle" data-i18n-source="commission">条件達成に必要な性格</h4>
                            <div class="requirement-badges style-badges" data-slot="1">
                            </div>
                        </div>
                    </div>
                    <div class="character-slots-with-roles">
                        <div class="role-character-container" data-commission="1" data-position="1">
                            <div class="role-label"></div>
                            <div class="character-slot-item" data-commission="1" data-position="1">
                                <div class="character-slot-placeholder">?</div>
                            </div>
                        </div>
                        <div class="role-character-container" data-commission="1" data-position="2">
                            <div class="role-label"></div>
                            <div class="character-slot-item" data-commission="1" data-position="2">
                                <div class="character-slot-placeholder">?</div>
                            </div>
                        </div>
                        <div class="role-character-container" data-commission="1" data-position="3">
                            <div class="role-label"></div>
                            <div class="character-slot-item" data-commission="1" data-position="3">
                                <div class="character-slot-placeholder">?</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="commission-slot" data-slot="2">
                    <div class="commission-header">
                        <button class="commission-select-btn" data-slot="2">
                            <span class="commission-select-text" data-i18n="buttons.selectCommission" data-i18n-source="commission">依頼を選択</span>
                        </button>
                    </div>
                    <div class="commission-requirements">
                        <div class="requirement-section">
                            <h4 class="requirement-title" data-i18n="labels.requirementTitle" data-i18n-source="commission">条件達成に必要な性格</h4>
                            <div class="requirement-badges style-badges" data-slot="2">
                            </div>
                        </div>
                    </div>
                    <div class="character-slots-with-roles">
                        <div class="role-character-container" data-commission="2" data-position="1">
                            <div class="role-label"></div>
                            <div class="character-slot-item" data-commission="2" data-position="1">
                                <div class="character-slot-placeholder">?</div>
                            </div>
                        </div>
                        <div class="role-character-container" data-commission="2" data-position="2">
                            <div class="role-label"></div>
                            <div class="character-slot-item" data-commission="2" data-position="2">
                                <div class="character-slot-placeholder">?</div>
                            </div>
                        </div>
                        <div class="role-character-container" data-commission="2" data-position="3">
                            <div class="role-label"></div>
                            <div class="character-slot-item" data-commission="2" data-position="3">
                                <div class="character-slot-placeholder">?</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="commission-slot" data-slot="3">
                    <div class="commission-header">
                        <button class="commission-select-btn" data-slot="3">
                            <span class="commission-select-text" data-i18n="buttons.selectCommission" data-i18n-source="commission">依頼を選択</span>
                        </button>
                    </div>
                    <div class="commission-requirements">
                        <div class="requirement-section">
                            <h4 class="requirement-title" data-i18n="labels.requirementTitle" data-i18n-source="commission">条件達成に必要な性格</h4>
                            <div class="requirement-badges style-badges" data-slot="3">
                            </div>
                        </div>
                    </div>
                    <div class="character-slots-with-roles">
                        <div class="role-character-container" data-commission="3" data-position="1">
                            <div class="role-label"></div>
                            <div class="character-slot-item" data-commission="3" data-position="1">
                                <div class="character-slot-placeholder">?</div>
                            </div>
                        </div>
                        <div class="role-character-container" data-commission="3" data-position="2">
                            <div class="role-label"></div>
                            <div class="character-slot-item" data-commission="3" data-position="2">
                                <div class="character-slot-placeholder">?</div>
                            </div>
                        </div>
                        <div class="role-character-container" data-commission="3" data-position="3">
                            <div class="role-label"></div>
                            <div class="character-slot-item" data-commission="3" data-position="3">
                                <div class="character-slot-placeholder">?</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="commission-slot" data-slot="4">
                    <div class="commission-header">
                        <button class="commission-select-btn" data-slot="4">
                            <span class="commission-select-text" data-i18n="buttons.selectCommission" data-i18n-source="commission">依頼を選択</span>
                        </button>
                    </div>
                    <div class="commission-requirements">
                        <div class="requirement-section">
                            <h4 class="requirement-title" data-i18n="labels.requirementTitle" data-i18n-source="commission">条件達成に必要な性格</h4>
                            <div class="requirement-badges style-badges" data-slot="4">
                            </div>
                        </div>
                    </div>
                    <div class="character-slots-with-roles">
                        <div class="role-character-container" data-commission="4" data-position="1">
                            <div class="role-label"></div>
                            <div class="character-slot-item" data-commission="4" data-position="1">
                                <div class="character-slot-placeholder">?</div>
                            </div>
                        </div>
                        <div class="role-character-container" data-commission="4" data-position="2">
                            <div class="role-label"></div>
                            <div class="character-slot-item" data-commission="4" data-position="2">
                                <div class="character-slot-placeholder">?</div>
                            </div>
                        </div>
                        <div class="role-character-container" data-commission="4" data-position="3">
                            <div class="role-label"></div>
                            <div class="character-slot-item" data-commission="4" data-position="3">
                                <div class="character-slot-placeholder">?</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- プリセット管理エリア -->
            <aside class="presets-area">
                <h3 data-i18n="preset.title">プリセット</h3>
                <div class="presets-list">
                    <!-- プリセット1～10 -->
                    <div class="preset-item" data-preset="1">
                        <div class="preset-thumbnail"><span class="preset-number">1</span></div>
                        <div class="preset-actions">
                            <button class="btn-save" data-preset="1" data-i18n="buttons.save">保存</button>
                            <button class="btn-load" data-preset="1" disabled data-i18n="buttons.load">読み込み</button>
                        </div>
                    </div>
                    <div class="preset-item" data-preset="2">
                        <div class="preset-thumbnail"><span class="preset-number">2</span></div>
                        <div class="preset-actions">
                            <button class="btn-save" data-preset="2" data-i18n="buttons.save">保存</button>
                            <button class="btn-load" data-preset="2" disabled data-i18n="buttons.load">読み込み</button>
                        </div>
                    </div>
                    <div class="preset-item" data-preset="3">
                        <div class="preset-thumbnail"><span class="preset-number">3</span></div>
                        <div class="preset-actions">
                            <button class="btn-save" data-preset="3" data-i18n="buttons.save">保存</button>
                            <button class="btn-load" data-preset="3" disabled data-i18n="buttons.load">読み込み</button>
                        </div>
                    </div>
                    <div class="preset-item" data-preset="4">
                        <div class="preset-thumbnail"><span class="preset-number">4</span></div>
                        <div class="preset-actions">
                            <button class="btn-save" data-preset="4" data-i18n="buttons.save">保存</button>
                            <button class="btn-load" data-preset="4" disabled data-i18n="buttons.load">読み込み</button>
                        </div>
                    </div>
                    <div class="preset-item" data-preset="5">
                        <div class="preset-thumbnail"><span class="preset-number">5</span></div>
                        <div class="preset-actions">
                            <button class="btn-save" data-preset="5" data-i18n="buttons.save">保存</button>
                            <button class="btn-load" data-preset="5" disabled data-i18n="buttons.load">読み込み</button>
                        </div>
                    </div>
                    <div class="preset-item" data-preset="6">
                        <div class="preset-thumbnail"><span class="preset-number">6</span></div>
                        <div class="preset-actions">
                            <button class="btn-save" data-preset="6" data-i18n="buttons.save">保存</button>
                            <button class="btn-load" data-preset="6" disabled data-i18n="buttons.load">読み込み</button>
                        </div>
                    </div>
                    <div class="preset-item" data-preset="7">
                        <div class="preset-thumbnail"><span class="preset-number">7</span></div>
                        <div class="preset-actions">
                            <button class="btn-save" data-preset="7" data-i18n="buttons.save">保存</button>
                            <button class="btn-load" data-preset="7" disabled data-i18n="buttons.load">読み込み</button>
                        </div>
                    </div>
                    <div class="preset-item" data-preset="8">
                        <div class="preset-thumbnail"><span class="preset-number">8</span></div>
                        <div class="preset-actions">
                            <button class="btn-save" data-preset="8" data-i18n="buttons.save">保存</button>
                            <button class="btn-load" data-preset="8" disabled data-i18n="buttons.load">読み込み</button>
                        </div>
                    </div>
                    <div class="preset-item" data-preset="9">
                        <div class="preset-thumbnail"><span class="preset-number">9</span></div>
                        <div class="preset-actions">
                            <button class="btn-save" data-preset="9" data-i18n="buttons.save">保存</button>
                            <button class="btn-load" data-preset="9" disabled data-i18n="buttons.load">読み込み</button>
                        </div>
                    </div>
                    <div class="preset-item" data-preset="10">
                        <div class="preset-thumbnail"><span class="preset-number">10</span></div>
                        <div class="preset-actions">
                            <button class="btn-save" data-preset="10" data-i18n="buttons.save">保存</button>
                            <button class="btn-load" data-preset="10" disabled data-i18n="buttons.load">読み込み</button>
                        </div>
                    </div>
                </div>
            </aside>
        </div>

        <!-- エラーメッセージ表示エリア -->
        <div id="errorMessage" class="error-message hidden"></div>
        
        <!-- 広告エリア（ページ下部） -->
        <div style="text-align: center; margin: 40px 0;">
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2384775227983330"
                 crossorigin="anonymous"></script>
            <!-- 依頼シミュページ下部広告 -->
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-2384775227983330"
                 data-ad-slot="3333333333"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
    </main>

    <!-- 使い方モーダル -->
    <div class="usage-modal" id="usageModal">
        <div class="usage-modal-overlay"></div>
        <div class="usage-modal-content">
            <div class="usage-modal-header">
                <h3 class="usage-modal-title" data-i18n="modal.usage.title" data-i18n-source="commission">使い方</h3>
                <button class="usage-modal-close">&times;</button>
            </div>
            <div class="usage-modal-body">
                <h3 data-i18n="modal.usage.basic" data-i18n-source="commission">基本操作</h3>
                <p><strong data-i18n="modal.usage.step1Title" data-i18n-source="commission"></strong><br>
                <span data-i18n-html="modal.usage.step1Text" data-i18n-source="commission"></span></p>
                
                <p><strong data-i18n="modal.usage.step2Title" data-i18n-source="commission"></strong><br>
                <span data-i18n-html="modal.usage.step2Text" data-i18n-source="commission"></span></p>
                
                <p><strong data-i18n="modal.usage.step3Title" data-i18n-source="commission"></strong><br>
                <span data-i18n-html="modal.usage.step3Text" data-i18n-source="commission"></span></p>
                
                <p><strong data-i18n="modal.usage.step4Title" data-i18n-source="commission"></strong><br>
                <span data-i18n-html="modal.usage.step4Text" data-i18n-source="commission"></span></p>
                
                <p><strong data-i18n="modal.usage.step5Title" data-i18n-source="commission"></strong><br>
                <span data-i18n-html="modal.usage.step5Text" data-i18n-source="commission"></span></p>
                
                <p><strong data-i18n="modal.usage.step6Title" data-i18n-source="commission"></strong><br>
                <span data-i18n-html="modal.usage.step6Text" data-i18n-source="commission"></span></p>
            </div>
        </div>
    </div>

    <!-- 更新履歴モーダル -->
    <div class="usage-modal" id="changelogModal">
        <div class="usage-modal-overlay"></div>
        <div class="usage-modal-content">
            <div class="usage-modal-header">
                <h3 class="usage-modal-title" data-i18n="buttons.changelog" data-i18n-source="common">更新履歴</h3>
                <button class="usage-modal-close">&times;</button>
            </div>
            <div class="usage-modal-body">
                <!-- 更新履歴はchangelog.jsで動的生成 -->
            </div>
        </div>
    </div>

    <!-- 依頼選択モーダル -->
    <div class="commission-modal" id="commissionModal">
        <div class="commission-modal-overlay"></div>
        <div class="commission-modal-content">
            <div class="commission-modal-header">
                <h3 class="commission-modal-title" data-i18n="modal.selectCommission.title" data-i18n-source="commission">依頼を選択</h3>
                <button class="commission-modal-close">&times;</button>
            </div>
            <div class="commission-modal-body">
                <div class="commission-modal-grid">
                    <!-- 依頼カテゴリーが動的に生成 -->
                </div>
            </div>
        </div>
    </div>

    <!-- キャラクター選択モーダル -->
    <div class="character-modal" id="characterModal">
        <div class="character-modal-overlay"></div>
        <div class="character-modal-content">
            <div class="character-modal-header">
                <h3 class="character-modal-title" data-i18n="modal.selectCharacter.title" data-i18n-source="commission">巡遊者を選択</h3>
                <button class="character-modal-close">&times;</button>
            </div>
            <div class="character-modal-body">
                <div class="character-modal-grid">
                    <!-- キャラクターが動的に生成 -->
                </div>
            </div>
        </div>
    </div>

    <!-- 所持キャラクター管理モーダル -->
    <div class="owned-characters-modal" id="ownedCharactersModal">
        <div class="owned-characters-modal-overlay"></div>
        <div class="owned-characters-modal-content">
            <div class="owned-characters-modal-header">
                <h3 class="owned-characters-modal-title" data-i18n="modal.manageOwned.title" data-i18n-source="commission">所持巡遊者の設定</h3>
                <button class="owned-characters-modal-close">&times;</button>
            </div>
            <div class="owned-characters-modal-body">
                <div class="owned-characters-grid">
                    <!-- キャラクターが動的に生成 -->
                </div>
            </div>
        </div>
    </div>

    <!-- おまかせ結果モーダル -->
    <div class="auto-assign-modal" id="autoAssignModal">
        <div class="auto-assign-modal-overlay"></div>
        <div class="auto-assign-modal-content">
            <div class="auto-assign-modal-header">
                <h3 class="auto-assign-modal-title" data-i18n="modal.autoAssign.title" data-i18n-source="commission">おまかせ編成候補</h3>
                <button class="auto-assign-modal-close">&times;</button>
            </div>
            <div class="auto-assign-modal-body">
                <div id="autoAssignResults">
                    <!-- おまかせ結果が動的に生成 -->
                </div>
            </div>
        </div>
    </div>

    <!-- 自動マイグレーション（新ドメイン用） -->
    <script src="js/common/auto-migration.js"></script>
    <!-- i18n -->
    <script src="js/common/i18n.js"></script>
    <script src="js/common/image-i18n.js"></script>
    <!-- 共通JS -->
    <script src="js/common/utils.js"></script>
    <script src="js/common/menu.js"></script>
    <script src="js/common/changelog.js"></script>
    
    <!-- ページ固有JS -->
    <script src="js/simu_commission.js"></script>
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-11QHHPQJCB"></script>
    <script>initGoogleAnalytics('G-11QHHPQJCB');</script>

    <footer style="margin-top: 0px; padding-top: 8px; border-top: 2px solid #ffffff; text-align: center; color: #666;">
        <div style="margin-bottom: 0px;">
            
        </div>
        
        <p style="color: white; margin-bottom: 10px;">
            <script type='text/javascript' src='https://storage.ko-fi.com/cdn/widget/Widget_2.js'></script><script type='text/javascript'>kofiwidget2.init('Ko-fi', '#72a4f2', 'E1E61QLW8Q');kofiwidget2.draw();</script>
            <a href="https://x.com/denko_gaminggal" target="_blank" rel="noopener noreferrer" style="color: #0000ee; text-decoration: none; margin: 0 10px;">@denko_gaminggal</a> |
            <a href="https://marshmallow-qa.com/2vagoau6ezqonbq?t=zH1owd&utm_medium=url_text&utm_source=promotion" target="_blank" rel="noopener noreferrer" style="color: #0000ee; text-decoration: none; margin: 0 10px;" data-i18n="footer.marshmallow">マシュマロ（感想・要望など）</a> |
            <a href="privacy.html" target="_blank" rel="noopener noreferrer" style="color: #0000ee; text-decoration: none; margin: 0 10px;" data-i18n="footer.privacy">プライバシーポリシー</a>
        </p>
        <p style="color: white;"><span data-i18n="footer.copyright">©Yostar</span><br>
        <span data-i18n="footer.disclaimer">※本サイトはステラソラの非公式ファンサイトです！</span></p>
    </footer>
</body>
</html>
